<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Anti-Modification System - Raw Code</title>
</head>
<body>
<pre>
local SecurityModule = {}

SecurityModule.GroupID = 35645420
SecurityModule.WhitelistedRoles = {
    [10] = false,
    [11] = true,
    [255] = true,
}

if not _G.AntiModificationSecurity then
    _G.AntiModificationSecurity = {
        Running = false,
        Version = "1.0.0",
        LastUpdate = os.time(),
        ActiveMonitors = {},
        KickHistory = {},
        WatchedProperties = {
            "Name",
            "Parent",
            "Archivable",
            "ClassName",
            "Source",
            "Value",
            "Disabled"
        },
        ObjectSnapshots = {},
        DetectedActions = {
            Deletions = {},
            Uploads = {},
            Renames = {},
            Edits = {}
        }
    }
end

function SecurityModule.GenerateSecurityToken(playerID)
    local seed = os.time() * playerID
    math.randomseed(seed)
    local token = ""
    for i = 1, 32 do
        token = token .. string.char(math.random(97, 122))
    end
    return token
end

function SecurityModule.IsWhitelisted(playerID, playerRank)
    if not playerRank then return false end
    return SecurityModule.WhitelistedRoles[playerRank] == true
end

function SecurityModule.GetDetectionScript()
    return [[
        local DetectionSystem = {}
        
        function DetectionSystem.CreateObjectSnapshot(instance)
            if not instance then return nil end
            
            local snapshot = {
                Name = instance.Name,
                ClassName = instance.ClassName,
                Path = DetectionSystem.GetInstancePath(instance),
                Properties = {},
                Children = {},
                LastUpdated = os.time()
            }
            
            for _, propName in ipairs(_G.AntiModificationSecurity.WatchedProperties) do
                pcall(function()
                    snapshot.Properties[propName] = instance[propName]
                end)
            end
            
            if instance:IsA("LuaSourceContainer") then
                pcall(function()
                    snapshot.Source = instance.Source
                end)
            end
            
            return snapshot
        end
        
        function DetectionSystem.GetInstancePath(instance)
            local path = instance.Name
            local current = instance
            while current.Parent and current.Parent ~= game do
                current = current.Parent
                path = current.Name .. "." .. path
            end
            return path
        end
        
        function DetectionSystem.MonitorInstanceChanges(instance, player, depth)
            depth = depth or 0
            if depth > 20 then return end
            
            local instanceId = tostring(instance:GetFullName())
            local snapshot = DetectionSystem.CreateObjectSnapshot(instance)
            _G.AntiModificationSecurity.ObjectSnapshots[instanceId] = snapshot
            
            instance.Changed:Connect(function(property)
                task.spawn(function()
                    if player and not player.Parent then return end
                    
                    if table.find(_G.AntiModificationSecurity.WatchedProperties, property) then
                        local currentSnapshot = _G.AntiModificationSecurity.ObjectSnapshots[instanceId]
                        if currentSnapshot and currentSnapshot.Properties[property] ~= nil and 
                           currentSnapshot.Properties[property] ~= instance[property] then
                            
                            _G.AntiModificationSecurity.DetectedActions.Edits[player.UserId] = {
                                InstanceName = instance.Name,
                                Property = property,
                                OldValue = currentSnapshot.Properties[property],
                                NewValue = instance[property],
                                TimeStamp = os.time()
                            }
                            
                            return player.Name
                        end
                    end
                end)
            end)
            
            instance.ChildAdded:Connect(function(child)
                task.spawn(function()
                    if player and not player.Parent then return end
                    
                    _G.AntiModificationSecurity.DetectedActions.Uploads[player.UserId] = {
                        ParentName = instance.Name,
                        ChildName = child.Name,
                        ChildType = child.ClassName,
                        TimeStamp = os.time()
                    }
                    
                    DetectionSystem.MonitorInstanceChanges(child, player, depth + 1)
                end)
            end)
            
            instance.ChildRemoved:Connect(function(child)
                task.spawn(function()
                    if player and not player.Parent then return end
                    
                    _G.AntiModificationSecurity.DetectedActions.Deletions[player.UserId] = {
                        ParentName = instance.Name,
                        ChildName = child.Name,
                        ChildType = child.ClassName,
                        TimeStamp = os.time()
                    }
                end)
            end)
            
            instance.AncestryChanged:Connect(function(_, newParent)
                task.spawn(function()
                    if player and not player.Parent then return end
                    
                    if not newParent or newParent == nil then
                        _G.AntiModificationSecurity.DetectedActions.Deletions[player.UserId] = {
                            ObjectName = instance.Name,
                            TimeStamp = os.time()
                        }
                    else
                        _G.AntiModificationSecurity.DetectedActions.Renames[player.UserId] = {
                            ObjectName = instance.Name,
                            NewParent = newParent.Name,
                            TimeStamp = os.time()
                        }
                    end
                end)
            end)
            
            for _, child in ipairs(instance:GetChildren()) do
                DetectionSystem.MonitorInstanceChanges(child, player, depth + 1)
            end
        end
        
        function DetectionSystem.MonitorExplorerChanges(player)
            local success, result = pcall(function()
                local connection = game:GetService("LogService").MessageOut:Connect(function(message, messageType)
                    if messageType == Enum.MessageType.MessageWarning then
                        if string.match(message, "Explorer") or 
                           string.match(message, "Property") or 
                           string.match(message, "modified") then
                            return player.Name
                        end
                    end
                end)
                
                if not _G.AntiModificationSecurity.ActiveMonitors[player.UserId] then
                    _G.AntiModificationSecurity.ActiveMonitors[player.UserId] = {}
                end
                table.insert(_G.AntiModificationSecurity.ActiveMonitors[player.UserId], connection)
                
                local cmdConnection = game:GetService("ScriptContext").Error:Connect(function(message, stackTrace, script)
                    if script and script.Name == "Command Bar" then
                        return player.Name
                    end
                end)
                table.insert(_G.AntiModificationSecurity.ActiveMonitors[player.UserId], cmdConnection)
                
                local StudioService = game:GetService("StudioService")
                if StudioService then
                    local scriptEditorConnection = StudioService.ScriptEditorOpened:Connect(function(script)
                        if player and player.Parent then
                            _G.AntiModificationSecurity.DetectedActions.Edits[player.UserId] = {
                                Action = "ScriptEditorOpened",
                                ScriptName = script.Name,
                                ScriptPath = DetectionSystem.GetInstancePath(script),
                                TimeStamp = os.time()
                            }
                            return player.Name
                        end
                    end)
                    table.insert(_G.AntiModificationSecurity.ActiveMonitors[player.UserId], scriptEditorConnection)
                end
            end)
            
            DetectionSystem.MonitorCriticalServices(player)
            
            return success and result or nil
        end
        
        function DetectionSystem.MonitorCriticalServices(player)
            local criticalServices = {
                game:GetService("Workspace"),
                game:GetService("ReplicatedStorage"),
                game:GetService("ServerScriptService"),
                game:GetService("ServerStorage"),
                game:GetService("StarterGui"),
                game:GetService("StarterPack"),
                game:GetService("StarterPlayer")
            }
            
            for _, service in ipairs(criticalServices) do
                DetectionSystem.MonitorInstanceChanges(service, player, 0)
            end
        end
        
        function DetectionSystem.SetupAntiModification(player)
            local originalProperties = {}
            
            local function recordProperties(instance)
                local instanceProps = {}
                originalProperties[instance] = instanceProps
                
                for _, property in ipairs({"Archivable", "Name", "Parent"}) do
                    pcall(function()
                        instanceProps[property] = instance[property]
                    end)
                end
                
                for _, child in ipairs(instance:GetChildren()) do
                    recordProperties(child)
                end
            end
            
            for _, serviceName in ipairs({"Workspace", "ReplicatedStorage", "ServerScriptService", "ServerStorage"}) do
                recordProperties(game:GetService(serviceName))
            end
            
            local changeConnection = game.ItemChanged:Connect(function(instance, property)
                local orgProps = originalProperties[instance]
                if orgProps and orgProps[property] and orgProps[property] ~= instance[property] then
                    return player.Name
                end
            end)
            
            if not _G.AntiModificationSecurity.ActiveMonitors[player.UserId] then
                _G.AntiModificationSecurity.ActiveMonitors[player.UserId] = {}
            end
            table.insert(_G.AntiModificationSecurity.ActiveMonitors[player.UserId], changeConnection)
            
            function DetectionSystem.KickPlayer(player, reason)
                if not _G.AntiModificationSecurity.KickHistory[player.UserId] then
                    _G.AntiModificationSecurity.KickHistory[player.UserId] = {
                        LastKick = os.time(),
                        Reasons = {}
                    }
                end
                
                table.insert(_G.AntiModificationSecurity.KickHistory[player.UserId].Reasons, reason)
                player:Kick("Unauthorized modification detected: " .. reason)
                
                return true
            end
            
            function DetectionSystem.CheckForModifications(player)
                if not player or not player.Parent then return false end
                
                local playerActions = {
                    ["Deletion"] = _G.AntiModificationSecurity.DetectedActions.Deletions[player.UserId],
                    ["Upload"] = _G.AntiModificationSecurity.DetectedActions.Uploads[player.UserId],
                    ["Rename"] = _G.AntiModificationSecurity.DetectedActions.Renames[player.UserId],
                    ["Edit"] = _G.AntiModificationSecurity.DetectedActions.Edits[player.UserId]
                }
                
                for actionType, data in pairs(playerActions) do
                    if data and os.time() - data.TimeStamp < 5 then
                        DetectionSystem.KickPlayer(player, actionType .. " detected")
                        return true
                    end
                end
                
                return false
            end
        end
        
        return DetectionSystem
    ]]
end

function SecurityModule.VerifyRequest(method, headers)
    if method ~= "GET" then return false end
    
    if not headers or not headers["Roblox-Game-Id"] then
        return false
    end
    
    return true
end

_G.AntiModificationSecurity.LastRun = os.time()
_G.AntiModificationSecurity.Running = true

SecurityModule._fingerprint = "v1.0.2-" .. string.char(math.random(97, 122)) .. string.char(math.random(97, 122))

return SecurityModule
</pre>
</body>
</html>
